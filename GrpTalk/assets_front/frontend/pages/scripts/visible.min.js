(function(n){n.fn.visible=function(t,i,r){var u=n(this).eq(0),l=u.get(0),f=n(window),e=f.scrollTop(),a=e+f.height(),o=f.scrollLeft(),v=o+f.width(),s=u.offset().top,y=s+u.height(),h=u.offset().left,p=h+u.width(),w=t===!0?y:s,b=t===!0?s:y,k=t===!0?p:h,d=t===!0?h:p,c=i===!0?l.offsetWidth*l.offsetHeight:!0,r=r?r:"both";return r==="both"?!!c&&b<=a&&w>=e&&d<=v&&k>=o:r==="vertical"?!!c&&b<=a&&w>=e:r==="horizontal"?!!c&&d<=v&&k>=o:void 0}})(jQuery)