(function(n){"use strict";var t=function(i){this.init("wysihtml5",i,t.defaults);this.options.wysihtml5=n.extend({},t.defaults.wysihtml5,i.wysihtml5)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){var t=n.Deferred(),i;return this.$input.attr("id","textarea_"+(new Date).getTime()),this.setClass(),this.setAttr("placeholder"),n.extend(this.options.wysihtml5,{events:{load:function(){t.resolve()}}}),this.$input.wysihtml5(this.options.wysihtml5),i=/msie\s*(8|7|6)/.test(navigator.userAgent.toLowerCase()),i&&this.$input.before("<br><br>"),t.promise()},value2html:function(t,i){n(i).html(t)},html2value:function(n){return n},value2input:function(n){this.$input.data("wysihtml5").editor.setValue(n,!0)},activate:function(){this.$input.data("wysihtml5").editor.focus()}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea><\/textarea>",inputclass:"editable-wysihtml5",placeholder:null,wysihtml5:{stylesheets:!1}});n.fn.editabletypes.wysihtml5=t})(window.jQuery)