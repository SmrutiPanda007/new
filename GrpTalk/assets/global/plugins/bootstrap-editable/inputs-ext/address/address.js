(function(n){"use strict";var t=function(n){this.init("address",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input")},value2html:function(t,i){if(!t){n(i).empty();return}var r=n("<div>").text(t.city).html()+", "+n("<div>").text(t.street).html()+" st., bld. "+n("<div>").text(t.building).html();n(i).html(r)},html2value:function(){return null},value2str:function(n){var t="",i;if(n)for(i in n)t=t+i+":"+n[i]+";";return t},str2value:function(n){return n},value2input:function(n){n&&(this.$input.filter('[name="city"]').val(n.city),this.$input.filter('[name="street"]').val(n.street),this.$input.filter('[name="building"]').val(n.building))},input2value:function(){return{city:this.$input.filter('[name="city"]').val(),street:this.$input.filter('[name="street"]').val(),building:this.$input.filter('[name="building"]').val()}},activate:function(){this.$input.filter('[name="city"]').focus()},autosubmit:function(){this.$input.keydown(function(t){t.which===13&&n(this).closest("form").submit()})}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-address"><label><span>City: <\/span><input type="text" name="city" class="form-control input-small"><\/label><\/div><div class="editable-address"><label><span>Street: <\/span><input type="text" name="street" class="form-control input-small"><\/label><\/div><div class="editable-address"><label><span>Building: <\/span><input type="text" name="building" class="form-control input-small"><\/label><\/div>',inputclass:""});n.fn.editabletypes.address=t})(window.jQuery)